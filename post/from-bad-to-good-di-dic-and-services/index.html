<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="BloggerCMS" />
    <meta name="description" content="PHP and more...">
    <meta name="author" content="Sarfraz Ahmed">

    <title>From Bad to Good: DI, DIC and Services :: Code In PHP</title>

    <!-- rss feed url -->
    <link rel="alternate" type="application/rss+xml" title="Code In PHP" href="https://codeinphp.github.io/rss.xml"/>

    <!-- favicon -->
    <link rel="shortcut icon" href="/favicon.ico"/>
    <link rel="shortcut icon" href="https://codeinphp.github.io/favicon.ico"/>

    <!-- Bootstrap CSS file -->
    <link href="https://codeinphp.github.io/js/plugins/bootstrap-3.0.3/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://codeinphp.github.io/js/plugins/font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://codeinphp.github.io/js/plugins/bootstrap-3.0.3/plugins/social-buttons.css" rel="stylesheet"/>

    <!-- syntax highlighter css file -->
    <link href="https://codeinphp.github.io/js/plugins/highlight/styles/php.css" rel="stylesheet"/>

    <!-- lightbox for images -->
    <link href="https://codeinphp.github.io/js/plugins/lightbox/ekko-lightbox.min.css" rel="stylesheet"/>

    <!-- blog custom CSS file -->
    <link href="https://codeinphp.github.io/css/style.css" rel="stylesheet"/>
</head><body>
<!-- Header -->
<header class="navbar navbar-default
 navbar-fixed-top bs-docs-nav" role="banner">
    <div class="container">

        <div class="navbar-header">
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a href="https://codeinphp.github.io" class="navbar-brand"><i class="fa fa-code"></i> Code In PHP</a>
        </div>

        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
            <div class="navbar-form navbar-right" role="search">
                <div class="form-group">
                    <input type="text" class="searchQuery form-control" placeholder="Search Posts">
                </div>

                <button type="button" class="searchButton btn btn-default"><i class="glyphicon glyphicon-search"></i>
                    Submit
                </button>
            </div>

            <ul class="nav navbar-nav page-links">
                    <li><a href="https://codeinphp.github.io/page/about">About</a></li>
                    <li><a href="https://codeinphp.github.io/page/projects">Projects</a></li>
                    <li><a href="https://codeinphp.github.io/page/contact">Contact</a></li>
            </ul>

        </nav>
    </div>
</header>
<div class="container">
    <div class="row">
        <div class="col-md-8 main-content">
            <article>
                <h3>From Bad to Good: DI, DIC and Services</h3>
                <span class="glyphicon glyphicon-user"></span> Sarfraz Ahmed
                &nbsp;&nbsp;
                <span class="glyphicon glyphicon-time"></span> August 28, 2016 02:37 PM
                <hr>

                <p class="post-content"><p>In this post, I intend to touch the concepts of:</p>
<ul>
<li>Dependency Injection (<a href="http://codeinphp.github.io/post/dependency-injection-in-php/">My previous post on DI</a>)</li>
<li>Dependency Injection Container (DIC)</li>
<li>Services</li>
</ul>
<p>Even though these terms seems scary at first especially to new-comers but are really easy to understand and help write <strong>quality code that is easy to understand and extend</strong>. We will take a ^legacy code^ and convert it into object-oriented one by using these principles.</p>
<p>Suppose we have simple application that sends newsletter email to all its subscribers, here is the legacy code:</p>
<pre><code>// file: index.php or could also be considered as Controller file in MVC paradigm

require __DIR__ . 'vendor/autoload.php';

use Demo\Mailer\SmtpMailer;

$dsn = 'sqlite:' . __DIR__ . 'database.sqlite';
$pdo = new PDO($dsn);

$mailer = new SmtpMailer('smtp.example.com', 'user', 'password', '465');

$sql = 'SELECT * from subscribers';

foreach ($pdo-&gt;query($sql) as $row) {
    $mailer-&gt;sendMessage(
        $row['email'],
        'This is the email body',
        $row['name'],
        'info@example.com'
    );
}</code></pre>
<p>Right now above code smells and has these problems:</p>
<ul>
<li>Logic is mixed up, SQL queries, sending emails database configuration is all in one file</li>
</ul>
<p>To fix this, first instinct is to convert it into class:</p>
<pre><code>class SubscriberMailer
{
    public function sendEmails()
    {
        $dsn = 'sqlite:' . __DIR__ . 'database.sqlite';
        $pdo = new PDO($dsn);

        $mailer = new SmtpMailer('smtp.example.com', 'user', 'password', '465');

        $sql = 'SELECT * from subscribers';

        foreach ($pdo-&gt;query($sql) as $row) {
            $mailer-&gt;sendMessage(
                $row['email'],
                'This is the email body',
                $row['name'],
                'info@example.com'
            );
        }
    }
}</code></pre>
<p>This looks good to eye but it has more problems:</p>
<ul>
<li>Logic is <em>still</em> mixed up, SQL queries, sending emails database configuration is all in one file</li>
<li>It has hard-coded dependencies (tight-coupling) on PDO and Mailer class, what if we wanted to change Mailer class ?</li>
<li>It is hard to unit-test because of tight coupling</li>
</ul>
<p>Let's try to fix these problems. We can see that this class has dependency on PDO so instead of hard-coding it inside <code>SubscriberMailer</code> class, we can ^pass^ it via its constructor which now makes the class:</p>
<pre><code>class SubscriberMailer
{
    protected $pdo = null;

    public function __construct($pdo)
    {
        $this-&gt;pdo = $pdo;
    }

    public function sendEmails()
    {
        $mailer = new SmtpMailer('smtp.example.com', 'user', 'password', '465');

        $sql = 'SELECT * from subscribers';

        foreach ($this-&gt;pdo-&gt;query($sql) as $row) {
            $mailer-&gt;sendMessage(
                $row['email'],
                'This is the email body',
                $row['name'],
                'info@example.com'
            );
        }
    }
}</code></pre>
<p>This is a bit better, the class doesn't care where PDO objects comes from, it just needs one to operate and you can't instantiate the class without providing one so it makes its intention clear. So this is what is called <strong>Dependency Injection</strong>, no need to fear even though the term sounded scary initially (read my <a href="http://codeinphp.github.io/post/dependency-injection-in-php/">previous article</a> on more ways of injecting dependencies). Here is how we use above class at this point of the time:</p>
<pre><code>require __DIR__ . 'vendor/autoload.php';

use Demo\Mailer\SmtpMailer;
use Demo\Mailer\SubscriberMailer;

$dsn = 'sqlite:' . __DIR__ . 'database.sqlite';
$pdo = new PDO($dsn);

$subscriberMailer = new SubscriberMailer($pdo);
$subscriberMailer-&gt;sendEmails();</code></pre>
<p>This is starting to look better compared to first snippet of code. However, we still have a problem in that we have hard-coded smtp config into our class, what if we wanted to change the smtp config without touching the class ? Or what if we had different setup of smtp config for development and production ? Remember a class should be a black-box which simply does its job without editing it again and again, you can only extend it not edit it. So this reasoning hints us that like pdo, we should also pass smtp config via class's constructor and move it from the class itself.</p>
<pre><code>class SubscriberMailer
{
    protected $pdo = null;
    protected $smtpConfig = [];

    public function __construct($pdo, array $smtpConfig)
    {
        $this-&gt;pdo = $pdo;
        $this-&gt;smtpConfig = $smtpConfig;
    }

    public function sendEmails()
    {
        $mailer = new SmtpMailer(
            $this-&gt;smtpConfig['host'],
            $this-&gt;smtpConfig['user'],
            $this-&gt;smtpConfig['password'],
            $this-&gt;smtpConfig['port']
        );

        $sql = 'SELECT * from subscribers';

        foreach ($this-&gt;pdo-&gt;query($sql) as $row) {
            $mailer-&gt;sendMessage(
                $row['email'],
                'This is the email body',
                $row['name'],
                'info@example.com'
            );
        }
    }
}</code></pre>
<p>Usage:</p>
<pre><code>require __DIR__ . 'vendor/autoload.php';

use Demo\Mailer\SmtpMailer;
use Demo\Mailer\SubscriberMailer;

$dsn = 'sqlite:' . __DIR__ . 'database.sqlite';
$pdo = new PDO($dsn);

$subscriberMailer = new SubscriberMailer($pdo, [
   'host' =&gt; 'smtp.example.com',
   'user' =&gt; 'user',
   'password' =&gt; 'password',
   'port' =&gt; '465',
]);

$subscriberMailer-&gt;sendEmails();</code></pre>
<p>This is better, we can now readily change smtp config in one place and we don't have to touch our class. It still has these problems though:</p>
<ul>
<li>It is tightly coupled to SMTP mailer, what if we wanted to change mailer from smtp to another one like sendmail ?</li>
<li>SQL is still written in our class, logic is mixed up, our mail class shouldn't know about users or interact with database, it just needs to send emails !</li>
</ul>
<blockquote>
<p><code>Hint</code>: The <code>new</code> keyword is considered code-smell, whenever you
encounter it, it means it is something you should pass via dependency
injection.</p>
</blockquote>
<p>So by now we know that to remove hard-coded dependency or tight-coupling, we should pass it instead via dependency injection. So instead of passing mailer config, we should pass mailer object:</p>
<pre><code>class SubscriberMailer
{
    protected $pdo = null;
    protected $mailer = null;

    public function __construct(\PDO $pdo, SmtpMailer $mailer)
    {
        $this-&gt;pdo = $pdo;
        $this-&gt;mailer = $mailer;
    }

    public function sendEmails()
    {
        $sql = 'SELECT * from subscribers';

        foreach ($this-&gt;pdo-&gt;query($sql) as $row) {
            $this-&gt;mailer-&gt;sendMessage(
                $row['email'],
                'This is the email body',
                $row['name'],
                'info@example.com'
            );
        }
    }
}</code></pre>
<p>Usage:</p>
<pre><code>require __DIR__ . 'vendor/autoload.php';

use Demo\Mailer\SmtpMailer;
use Demo\Mailer\SubscriberMailer;

$dsn = 'sqlite:' . __DIR__ . 'database.sqlite';
$pdo = new PDO($dsn);

$mailer = new SmtpMailer('smtp.example.com', 'user', 'password', '465');

$subscriberMailer = new SubscriberMailer($pdo, $mailer);       
$subscriberMailer-&gt;sendEmails();</code></pre>
<p>This is better, we removed hard-coded dependency to smtp mailer and notice that we have also type-hinted the <code>PDO</code> and <code>SmtpMailer</code> in the constructor of our class, this is extremely helpful because:</p>
<ul>
<li>Our class makes clear intention that it needs a <code>PDO</code> and <code>SmtpMailer</code> to work properly</li>
<li>If somebody passes something other than these two dependencies, they would get clear error message</li>
<li>Type-hinting makes our code self-documenting</li>
<li>It makes IDE auto-completion </li>
</ul>
<p>Right now our mailer class knows it needs an instance of <code>SmtpMailer</code> to work and it should have a <code>sendMessage</code> method. Remember, we refactored our code in hope that we might use some other type of mailer like sendmail but problem is that it might not necessarily have the <code>sendMessage</code> method which means we cannot use it. So how do we solve this problem to be able to use some other type of mailer implementation ? Well the answer is to use an interface/contract and use that instead:</p>
<pre><code>// app/Demo/Contracts/MailerInterface.php
interface MailerInterface
{
   public function sendMessage($email, $body, $subject, $from);
}

// app/Demo/Mailer/SmtpMailer.php
use Demo\Contracts\MailerInterface;

class SmtpMailer implements MailerInterface
{
    public function sendMessage($email, $body, $subject, $from) {
        // code to send email
    }
}

// app/Demo/Mailer/SubscriberMailer.php    
class SubscriberMailer
{
    protected $pdo = null;
    protected $mailer = null;

    public function __construct(\PDO $pdo, MailerInterface $mailer)
    {
        $this-&gt;pdo = $pdo;
        $this-&gt;mailer = $mailer;
    }

    public function sendEmails()
    {
        $sql = 'SELECT * from subscribers';

        foreach ($this-&gt;pdo-&gt;query($sql) as $row) {
            $this-&gt;mailer-&gt;sendMessage(
                $row['email'],
                'This is the email body',
                $row['name'],
                'info@example.com'
            );
        }
    }
}</code></pre>
<p>Just like every step that we are performing, this step also has nice advantages:</p>
<ul>
<li>Our <code>SubscriberMailer</code> class is now greatly expandable since it now accepts <strong>ANY object</strong> that implements <code>MailerInterface</code> that has <code>sendMessage</code> method</li>
<li>It documents our code a bit more, it is clear now how an object should be constructed that implements the <code>MailerInterface</code></li>
</ul>
<p>All well and good so far. We now see that in our class has SQL to get users. Again it should not care about talking to database, it just needs users' emails to send emails to. To fix this, we need use the <strong><a href="http://shawnmc.cool/the-repository-pattern">Repository Pattern</a></strong> which is essentially a class talking to database to manipulate specific entity, in this case users. So we can pass <code>UserRepository</code> as dependency that has a method to get all users:</p>
<pre><code>// app/Demo/Mailer/SubscriberMailer.php
use Demo\Contracts\MailerInterface;
use Demo\Repositories\UserRepository;

class SubscriberMailer
{
    protected $mailer = null;
    protected $userRepository = null;

    public function __construct(MailerInterface $mailer, UserRepository $userRepository)
    {
        $this-&gt;mailer = $mailer;
        $this-&gt;userRepository = $userRepository;
    }

    public function sendEmails()
    {
        $users = $this-&gt;userRepository-&gt;getAll();

        foreach ($users as $user) {
            $this-&gt;mailer-&gt;sendMessage(
                $user-&gt;email,
                'This is the email body',
                $user-&gt;name,
                'info@example.com'
            );
        }
    }
}</code></pre>
<p>Usage:</p>
<pre><code>require __DIR__ . 'vendor/autoload.php';

use Demo\Mailer\SmtpMailer;
use Demo\Mailer\SubscriberMailer;
use Demo\Repositories\UserRepository;

$mailer = new SmtpMailer('smtp.example.com', 'user', 'password', '465');

$subscriberMailer = new SubscriberMailer($mailer, new UserRepository);    
$subscriberMailer-&gt;sendEmails();</code></pre>
<p>Awesome! our <code>SubscriberMailer</code> class now does not have any mixed-up logic, it is complete black-box whose task is to send emails to provided users. It doesn't need to care about how you pass <code>MailerInterface</code> or <code>UserRepository</code>, it just needs them to operate. It has only one task of sending emails. Not to mention that our class is also easy to be unit-tested. Notice also that we removed PDO as dependency since it is now job of <code>UserRepository</code> to give us the users.</p>
<p>We can now call our class a <strong>Service</strong> that performs one and only one task without any coupling. If you have heard about <strong><a href="https://en.wikipedia.org/wiki/Service-oriented_architecture">Service-Oriented Architecture</a></strong>, this is what it is, a collection of service classes with one and only one responsibility each without any hard-coded dependencies.</p>
<p>At this point of the time, we are all good with our class but one of the downsides of Dependency Injection is that all the complexity of creating and configuring objects is your job. Now this isn't that bad since it happens at one place and gives you the control but it is something which we can still improve.</p>
<p>To do this, we need to leverage what is called <strong>Dependency Injection Container</strong> (DIC). The job of DIC is to create and configure objects for us. There are many DIC out there for PHP but let's see our modified code using famous <strong><a href="http://pimple.sensiolabs.org/">Pimple</a></strong> container, here we wrap the dependencies or services into Pimple container. I am not going into details of how to use it, you should refer to its documentation.</p>
<pre><code>// file: container.php

use Demo\Mailer\SmtpMailer;
use Demo\Repositories\UserRepository;
use Pimple\Container;
use Demo\Mailer\SubscriberMailer;

$container = new Pimple();

// container can also hold configs - ideally should be put in separate file...
$container['smtp_config'] = [
   'host' =&gt; 'smtp.example.com',
   'user' =&gt; 'user',
   'pass' =&gt; 'password',
   'port' =&gt; '465',
];

$container['mailer'] = $container-&gt;share(function(Pimple $container){
   return new SmtpMailer(
      $container['smtp_config']['host'],
      $container['smtp_config']['user'],
      $container['smtp_config']['pass'],
      $container['smtp_config']['port']
   );
});

$container['userRepository'] = $container-&gt;share(function(){
   return new UserRepository();
});

$container['subscriberMailer'] = $container-&gt;share(function(Pimple $container){
   return new SubscriberMailer($container['mailer'], $container['userRepository']);
});

// file: index.php

require __DIR__ . 'vendor/autoload.php';
require __DIR__ . 'container.php';

$subscriberMailer = $container['subscriberMailer'];
$subscriberMailer-&gt;sendEmails();</code></pre>
<p>Notice how clear and concise our <code>index.php</code> code is now compared to initial version. </p>
<p>Using the DIC provides us with these advantages:</p>
<ul>
<li>Wrapping our object creation in container's anonymous function makes object creation lazy which means object isn't created <em>only until needed</em> and if we never reference our <code>SubscriberMailer</code> class, those objects are never created at all saving us memory !</li>
<li>Using the container's <code>share</code> method means no matter how many times we need, it will always give us same original object instance. If we need to send many emails, we don't need many instances. This also makes code a bit more faster.</li>
<li>All the logic of which objects depend on other objects is abstracted away into container itself, we don't need to worry how they are created or what their dependencies are, we just use our services straight away out of container.</li>
<li>If we ever need to change config or something, we only edit it at one place, nobody needs to know about this change.</li>
</ul>
<hr />
<p>In conclusion, no matter which framework you use, these principles can be applied to make code which is easy to understand, extend and test.</p></p>
                <br/><br/>

                <div class="post-info">
                        <span class="glyphicon glyphicon-folder-open"></span> &nbsp;
                        <a href="https://codeinphp.github.io/category/php">PHP</a>
                        &nbsp;&nbsp;

                    <span class="glyphicon glyphicon-bookmark"></span>

                        <a href="https://codeinphp.github.io/tag/PHP">PHP</a>&nbsp;&nbsp;
                        <a href="https://codeinphp.github.io/tag/container">container</a>&nbsp;&nbsp;
                        <a href="https://codeinphp.github.io/tag/injection">injection</a>&nbsp;&nbsp;
                        <a href="https://codeinphp.github.io/tag/oop">oop</a>&nbsp;&nbsp;
                        <a href="https://codeinphp.github.io/tag/service">service</a>&nbsp;&nbsp;
                </div>

            </article>
            <hr/>

            <div class="text-center clearfix">
                <div class="col-sm-4 col-md-4">
                    <a class="prevpost btn btn-primary"><i class="fa fa-chevron-circle-left"></i> Prev Post</a>
                </div>
                <div class="col-sm-4 col-md-4">
                    <a class="btn btn-primary" href="https://codeinphp.github.io/posts.html"><i class="fa fa-navicon"></i> View All
                        Post</a>
                </div>
                <div class="col-sm-4 col-md-4">
                    <a class="nextpost btn btn-primary"><i class="fa fa-chevron-circle-right"></i> Next Post</a>
                </div>
            </div>

            <hr/>
            <span class='st_facebook_large' displayText='Facebook'></span>
            <span class='st_twitter_large' displayText='Tweet'></span>
            <span class='st_reddit_large' displayText='Reddit'></span>
            <span class='st_pocket_large' displayText='Pocket'></span>
            <span class='st_flipboard_large' displayText='Flipboard'></span>
            <span class='st_googleplus_large' displayText='Google +'></span>
            <span class='st_linkedin_large' displayText='LinkedIn'></span>
            <span class='st_email_large' displayText='Email'></span>
            <br/><br/>

            <!-- Comment form -->
            <div class="well">
                <div id="disqus_thread"></div>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">Comments
                    powered by Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">Comments powered by
                    <span class="logo-disqus">Disqus</span></a>
            </div>

        </div>

        <div class="sidebar col-md-4">
        
            <!-- Follow Panel -->
                <div class="panel panel-primary text-center">
                    <div class="panel-heading">
                        <strong>Follow Me</strong>
                    </div>
        
                    <div class="panel-body">
                        <a target="_blank" href="http://feeds.feedburner.com/codeinphpfeed" class="btn btn-social-icon btn-outline"><i class="fa fa-rss"></i></a>
        
                            <a target="_blank" href="https://twitter.com/sarfraznawaz" class="btn btn-social-icon btn-twitter"><i class="fa fa-twitter"></i></a>
                            <a target="_blank" href="https://pk.linkedin.com/in/sarfraz-ahmed-70941914" class="btn btn-social-icon btn-linkedin"><i class="fa fa-linkedin"></i></a>
                            <a target="_blank" href="https://github.com/sarfraznawaz2005" class="btn btn-social-icon btn-github"><i class="fa fa-github"></i></a>
                    </div>
                </div>
        
            <!-- Custom Values from Settings page -->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <strong>On Stackoverflow</strong>
                    </div>
                    <a href="http://stackoverflow.com/users/139459/sarfraz"> <img src="http://stackoverflow.com/users/flair/139459.png?theme=clean" width="355" height="100" alt="Sarfraz at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="Sarfraz at Stack Overflow, Q&amp;A for professional and enthusiast programmers" class="img-responsive"> </a>
                </div>
        
            <!-- Latest Posts -->
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <strong>Latest Posts</strong>
                </div>
        
                <ul class="list-group">
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/from-bad-to-good-di-dic-and-services">From Bad to Good: DI, DIC and Services</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/fast-mysql-backup-and-restore">Fast MySQL Backup and Restore</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/coding-to-interface">Coding to Interface</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/introducing-phexecute-php-code-runner">Introducing Phexecute - PHP Code Runner</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/slim3-skeleton">Slim3 Skeleton</a></li>
                </ul>
            </div>
        
            <!-- Categories -->
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <strong>Categories</strong>
                </div>
        
                <ul class="list-group">
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/bloggercms">BloggerCMS</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/design-patterns">Design Patterns</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/javascript">Javascript</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/php">PHP</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/random">Random</a></li>
                </ul>
            </div>
        
            <!-- Archives -->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <strong>Archives</strong>
                    </div>
        
                    <ul class="archives list-group"><li class="list-group-item archive_link"><a href="https://codeinphp.github.io/archive/august-2016">August 2016</a></li><li class="list-group-item archive_link"><a href="https://codeinphp.github.io/archive/may-2016">May 2016</a></li><li class="list-group-item archive_link"><a href="https://codeinphp.github.io/archive/december-2015">December 2015</a></li><li class="list-group-item archive_link"><a href="https://codeinphp.github.io/archive/may-2015">May 2015</a></li><li class="list-group-item archive_link"><a href="https://codeinphp.github.io/archive/april-2015">April 2015</a></li></ul>
                </div>
        
            <!-- Tags -->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <strong>Tags Cloud</strong>
                    </div>
        
                    <div class="panel-body">
                        <ul class="list-inline">
                            <a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/abstract" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">abstract</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/adapter" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">adapter</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/app" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">app</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/backup" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">backup</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/blog" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">blog</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/bloggercms" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">bloggercms</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/browser" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">browser</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/closure" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">closure</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/cms" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">cms</a>
<a style="font-size: 15px" class="tag_cloud" href="https://codeinphp.github.io/tag/codeigniter" title="6 total posts" data-original-title="7 total posts" data-toggle="tooltip">codeigniter</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/composer" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">composer</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/console" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">console</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/container" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">container</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/controller" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">controller</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/custom" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">custom</a>
<a style="font-size: 13px" class="tag_cloud" href="https://codeinphp.github.io/tag/database" title="3 total posts" data-original-title="4 total posts" data-toggle="tooltip">database</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/datamapper" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">datamapper</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/date" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">date</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/dependency" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">dependency</a>
<a style="font-size: 14px" class="tag_cloud" href="https://codeinphp.github.io/tag/design-pattern" title="4 total posts" data-original-title="5 total posts" data-toggle="tooltip">design-pattern</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/development" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">development</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/devtools" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">devtools</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/drive" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">drive</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/error" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">error</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/exception" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">exception</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/function" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">function</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/git" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">git</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/github" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">github</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/googledrive" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">googledrive</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/injection" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">injection</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/interface" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">interface</a>
<a style="font-size: 13px" class="tag_cloud" href="https://codeinphp.github.io/tag/javascript" title="3 total posts" data-original-title="4 total posts" data-toggle="tooltip">javascript</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/lambda" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">lambda</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/laravel" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">laravel</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/migration" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">migration</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/mysql" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">mysql</a>
<a style="font-size: 15px" class="tag_cloud" href="https://codeinphp.github.io/tag/oop" title="5 total posts" data-original-title="6 total posts" data-toggle="tooltip">oop</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/pdo" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">pdo</a>
<a style="font-size: 30px" class="tag_cloud" href="https://codeinphp.github.io/tag/php" title="25 total posts" data-original-title="26 total posts" data-toggle="tooltip">php</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/php" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">PHP</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/phpexecute" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">phpexecute</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/polymorphism" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">polymorphism</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/refactoring" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">refactoring</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/runner" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">runner</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/scope" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">scope</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/semver" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">semver</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/service" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">service</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/singleton" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">singleton</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/slim" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">slim</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/spl" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">spl</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/sql" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">sql</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/sqlite" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">sqlite</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/ssh" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">ssh</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/stackoverflow" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">stackoverflow</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/static" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">static</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/strategy" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">strategy</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/tester" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">tester</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/time" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">time</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/timezone" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">timezone</a>
<a style="font-size: 13px" class="tag_cloud" href="https://codeinphp.github.io/tag/tip" title="3 total posts" data-original-title="4 total posts" data-toggle="tooltip">tip</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/todo" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">todo</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/trait" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">trait</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/versioning" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">versioning</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/visual" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">visual</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/wamp" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">wamp</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/workflow" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">workflow</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/xampp" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">xampp</a>

                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>

<!-- Footer -->
<footer>
    <div class="container">
        <hr/>
        <p class="text-center">Powered by <strong><a target="_blank" href="https://github.com/sarfraznawaz2005/BloggerCMS">BloggerCMS</a></strong></p>
    </div>
</footer>

<!-- Jquery and Bootstrap Script files -->
<script src="https://codeinphp.github.io/js/jquery-2.0.3.min.js"></script>
<script src="https://codeinphp.github.io/js/plugins/bootstrap-3.0.3/js/bootstrap.min.js"></script>
<script src="https://codeinphp.github.io/js/plugins/highlight/highlight.pack.js"></script>
<script src="https://codeinphp.github.io/js/plugins/lightbox/ekko-lightbox.min.js"></script>

<script>
    var __blogURL = 'https://codeinphp.github.io';
</script>

<script src="https://codeinphp.github.io/js/blog.js"></script>
<script src="https://codeinphp.github.io/js/search.js"></script>

<!-- google analytics -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-61657332-1', 'auto');
    ga('send', 'pageview');
</script>


</body>
</html>
<!-- for pagination -->
<script>
    $(function () {

        ///////////////////////////////////////////////////
        // class/id/selector of prev link
        var $prevPostSelector = $('.prevpost');
        var $nextPostSelector = $('.nextpost');
        ///////////////////////////////////////////////////

        var pageArray = document.location.href.split('/');
        var currentPageSlug = pageArray[pageArray.length - 1];

        if (!currentPageSlug) {
            currentPageSlug = pageArray[pageArray.length - 2];
        }

        $.ajax({
            url: __blogURL + "/data/blog.json",
            type: "GET",
            dataType: "json",
            success: function (data) {
                if (data.posts !== undefined && data.posts !== null) {
                    $.each(data.posts, function (i, post) {
                        if (post.slug === currentPageSlug || post.slug + '/' === currentPageSlug) {

                            var prevPost = data.posts[i - 1];
                            var nextPost = data.posts[i + 1];

                            if (prevPost === undefined || prevPost === null) {
                                // hide previous link if it is first post
                                $prevPostSelector.hide();
                            }
                            else {
                                $prevPostSelector.attr('href', __blogURL + '/post/' + prevPost.slug);
                            }

                            if (nextPost === undefined || nextPost === null) {
                                // hide previous link if it is last post
                                $nextPostSelector.hide();
                            }
                            else {
                                $nextPostSelector.attr('href', __blogURL + '/post/' + nextPost.slug);
                            }

                            return false; // break out of each
                        }
                    });
                }
            },
            error: function (e) {
                $prevPostSelector.hide();
                $nextPostSelector.hide();
            }
        });

        // for Disqus
        var disqus_shortname = 'codeinphp';
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

    });
</script>

<!-- for sharethis -->
<script type="text/javascript">var switchTo5x = true;</script>
<script type="text/javascript" src="https://ws.sharethis.com/button/buttons.js"></script>
<script type="text/javascript">stLight.options({
    publisher: "18a13a28-cab8-4bb2-9a13-25708fa3cd9b",
    doNotHash: true,
    doNotCopy: true,
    hashAddressBar: false
});
</script>