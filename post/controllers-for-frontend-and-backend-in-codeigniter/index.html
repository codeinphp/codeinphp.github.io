<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="BloggerCMS" />
    <meta name="description" content="PHP and more...">
    <meta name="author" content="Sarfraz Ahmed">

    <title>Controllers for Frontend and Backend in CodeIgniter :: Code In PHP</title>

    <!-- rss feed url -->
    <link rel="alternate" type="application/rss+xml" title="Code In PHP" href="https://codeinphp.github.io/rss.xml"/>

    <!-- favicon -->
    <link rel="shortcut icon" href="/favicon.ico"/>
    <link rel="shortcut icon" href="https://codeinphp.github.io/favicon.ico"/>

    <!-- Bootstrap CSS file -->
    <link href="https://codeinphp.github.io/js/plugins/bootstrap-3.0.3/css/yeti.min.css" rel="stylesheet"/>
    <link href="https://codeinphp.github.io/js/plugins/font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://codeinphp.github.io/js/plugins/bootstrap-3.0.3/plugins/social-buttons.css" rel="stylesheet"/>

    <!-- syntax highlighter css file -->
    <link href="https://codeinphp.github.io/js/plugins/highlight/styles/github.css" rel="stylesheet"/>

    <!-- lightbox for images -->
    <link href="https://codeinphp.github.io/js/plugins/lightbox/ekko-lightbox.min.css" rel="stylesheet"/>

    <!-- blog custom CSS file -->
    <link href="https://codeinphp.github.io/css/style.css" rel="stylesheet"/>
</head><body>
<!-- Header -->
<header class="navbar navbar-default
 navbar-fixed-top bs-docs-nav" role="banner">
    <div class="container">

        <div class="navbar-header">
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a href="https://codeinphp.github.io" class="navbar-brand"><i class="fa fa-code"></i> Code In PHP</a>
        </div>

        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
            <div class="navbar-form navbar-right" role="search">
                <div class="form-group">
                    <input type="text" class="searchQuery form-control" placeholder="Search Posts">
                </div>

                <button type="button" class="searchButton btn btn-default"><i class="glyphicon glyphicon-search"></i>
                    Submit
                </button>
            </div>

            <ul class="nav navbar-nav page-links">
                    <li><a href="https://codeinphp.github.io/page/about">About</a></li>
                    <li><a href="https://codeinphp.github.io/page/projects">Projects</a></li>
                    <li><a href="https://codeinphp.github.io/page/contact">Contact</a></li>
            </ul>

        </nav>
    </div>
</header>
<div class="container">
    <div class="row">
        <div class="col-md-8 main-content">
            <article>
                <h3>Controllers for Frontend and Backend in CodeIgniter</h3>
                <span class="glyphicon glyphicon-user"></span> Sarfraz Ahmed
                &nbsp;&nbsp;
                <span class="glyphicon glyphicon-time"></span> April 21, 2015 03:10 PM
                <hr>

                <p class="post-content"><p>I find it very inconvenient when you need to create all <strong>frontend</strong> and <strong>backend</strong> controllers without having any common functionality. I don't like the face that I always have to extend <code>CI_Controller</code> for all my backend and frontend controllers. I need ability to specify which controllers are related to frontend and which ones relate to backend .</p>
<p>So instead of doing this:</p>
<pre><code>class someFrontendController extends CI_Controller {}
class someBackendController extends CI_Controller {}</code></pre>
<p>I should be able to do this:</p>
<pre><code>class someFrontendController extends FrontendController {}
class someBackendController extends BackendController {}</code></pre>
<p>I also need ability to specify <strong>common</strong> controllers that can be <em>applicable to both frontend and backend</em>: </p>
<pre><code>class someCommonController extends CommonController {}</code></pre>
<p>I will explain <strong>benefits</strong> of having such controllers below. But for now, how do we do that ? Well CodeIgniter is very flexible and does allow you to achieve just that.</p>
<h2>Extending CodeIgniter's <code>CI_Controller</code> Class</h2>
<p>In order to have separate controllers for backend, frontend and common controllers, please follow these steps:</p>
<p>1) Make sure that config <code>$config['subclass_prefix']</code> is set to <code>MY_</code> in <strong>application/config.php</strong> file. It should be so by default.</p>
<p>2) Create a file called <strong>MY_Controller.php</strong> in <strong>application/core</strong> folder and paste this code in it:</p>
<pre><code>&lt;?php (defined('BASEPATH')) OR exit('No direct script access allowed');

class CommonController extends CI_Controller
{
    public function __construct()
    {
        parent::__construct();
    }
}

class FrontendController extends CommonController
{
    public function __construct()
    {
        parent::__construct();
    }
}

class BackendController extends CommonController
{
    public function __construct()
    {
        parent::__construct();
    }
}</code></pre>
<hr />
<p>Now for all of your controllers that belong to frontend, you would extend <code>FrontendController</code> instead of <code>CI_Controller</code> and for all of your controllers that belong to backend, you would extend <code>BackendController</code> instead of <code>CI_Controller</code> like I mentioned above:</p>
<pre><code>class someFrontendController extends FrontendController {}
class someBackendController extends BackendController {}</code></pre>
<p>And for any controllers that might share common data for frontend and backend, you would extend <code>CommonController</code>:</p>
<pre><code>class someCommonController extends CommonController {}</code></pre>
<h1>What's the Point ?</h1>
<p>You might already have guessed the benefits of having separate controllers but if you haven't  yet, well here they are:</p>
<ul>
<li>You can now easily <strong>distinguish</strong> which controllers belong to backend and which ones belong to frontend</li>
<li>You now have ability to have <strong>common code</strong> for both sides of an application. </li>
</ul>
<p>By <strong>common code</strong>, I mean any functionality that you would want to be shared in all of your controllers. Let's assume that we have created login functionality and user is logged on frontend. Now normally you would write some code in all of your controllers (for authorized pages for example) that would check whether or not user is logged in; if user is not logged in, redirect him back to login page something like:</p>
<pre><code>class MyController extends CI_Controller
{
    public function index() {
        // check if user is logged in
        $this-&gt;checkLoginStatus();

        // more code of controller when user is logged in
    }

    // redirect user to login page if not logged in
    protected function checkLoginStatus() {
        if (! $this-&gt;session-&gt;userdata('is_logged_in')) {
            redirect('login');
        }
    }
}</code></pre>
<p>Now for all of your pages that can be viewed only when user is logged in, you will need to insert <code>checkLoginStatus()</code> function in all of those controllers and then call it <code>index()</code> function. That's not good, it is repeating code. Remember the rules <a href="http://en.wikipedia.org/wiki/Don%27t_repeat_yourself">Don't Repeat Yourself</a> (DRY) and <a href="http://en.wikipedia.org/wiki/KISS_principle">Keep It Simple, Stupid!</a> (KISS) :)</p>
<p>Let's KISS it; simply put <code>checkLoginStatus()</code> function code in your <code>FrontendController</code> and now all controllers that extend it will have this login check functionality:</p>
<pre><code>class FrontendController extends CommonController
{
    public function __construct()
    {
        parent::__construct();

        // check if user is logged in
        $this-&gt;checkLoginStatus();
    }

    // redirect user to login page if not logged in
    protected function checkLoginStatus() {
        if (! $this-&gt;session-&gt;userdata('is_logged_in')) {
            redirect('login');
        }
    }    
}</code></pre>
<p>And now you don't need to do anything in your normal frontend controllers. You now get login check functionality out of box. In the similar fashion, you can have some common functionality for all of your backend controllers by putting some code in <code>BackendController</code>. This was just an example for login check but of course you could have some other requirement that you wanted to inject in all of your controllers by using <code>FrontendController</code> or <code>BackendController</code>.</p>
<p>You might ask, you could have done all of this by may be using CI Hooks or may be <a href="http://php.net/manual/en/language.oop5.traits.php">traits</a>, well that's true but I believe having separate controllers gives you more <strong>control</strong> and <a href="http://en.wikipedia.org/wiki/Separation_of_concerns">separation of concerns</a>.</p>
<p>Similarly, you could put whatever code you want in class for <code>CommonController</code> that would be applicable to <strong>both</strong> frontend and backend. For example you could setup application's overall configuration, upload paths, logos, etc whatever you think should be available site-wide; in all controllers of backend and frontend.</p>
<p>So anything that you put in <code>FrontendController</code> will be available in all controllers of frontend that extend it. Anything that you put in <code>BackendController</code> will be available in all controllers of backend that extend it. Anything that you put in <code>CommonController</code> will be available in all controllers of frontend + backend.</p>
<hr />
<p>And finally there is one more problem I don't like personally. Even though we can now easily find out which controllers belong to frontend or backend, we still have to put all of them in <strong>application/controllers</strong> folder. This doesn't easily tell by looking at file names which controllers belong where unless you open it up and see what it <code>extends</code>. Of course we could use prefix for controller file names like <code>front-foo-controller.php</code> or <code>backend-bar-controller.php</code> but still you have to put them in same folder. It would have been cool if you could have folder structure like this:</p>
<pre>
+ frontend
   - controller-one.php
   - controller-two.php
   - controller-three.php
+ backend
   - controller-one.php
   - controller-two.php
   - controller-three.php
</pre>
<p>Oh yes you can do that as well with the help of <a href="https://bitbucket.org/wiredesignz/codeigniter-modular-extensions-hmvc">HMVC module for CodeIgniter</a> :)</p>
<p>Have fun!</p></p>
                <br/><br/>

                <div class="post-info">
                        <span class="glyphicon glyphicon-folder-open"></span> &nbsp;
                        <a href="https://codeinphp.github.io/category/php">PHP</a>
                        &nbsp;&nbsp;

                    <span class="glyphicon glyphicon-bookmark"></span>

                        <a href="https://codeinphp.github.io/tag/codeigniter">codeigniter</a>&nbsp;&nbsp;
                        <a href="https://codeinphp.github.io/tag/controller">controller</a>&nbsp;&nbsp;
                        <a href="https://codeinphp.github.io/tag/php">php</a>&nbsp;&nbsp;
                </div>

            </article>
            <hr/>

            <div class="text-center clearfix">
                <div class="col-sm-4 col-md-4">
                    <a class="prevpost btn btn-primary"><i class="fa fa-chevron-circle-left"></i> Prev Post</a>
                </div>
                <div class="col-sm-4 col-md-4">
                    <a class="btn btn-primary" href="https://codeinphp.github.io/posts.html"><i class="fa fa-navicon"></i> View All
                        Post</a>
                </div>
                <div class="col-sm-4 col-md-4">
                    <a class="nextpost btn btn-primary"><i class="fa fa-chevron-circle-right"></i> Next Post</a>
                </div>
            </div>

            <hr/>
            <span class='st_facebook_large' displayText='Facebook'></span>
            <span class='st_twitter_large' displayText='Tweet'></span>
            <span class='st_pocket_large' displayText='Pocket'></span>
            <span class='st_flipboard_large' displayText='Flipboard'></span>
            <span class='st_googleplus_large' displayText='Google +'></span>
            <span class='st_linkedin_large' displayText='LinkedIn'></span>
            <span class='st_email_large' displayText='Email'></span>
            <br/><br/>

            <!-- Comment form -->
            <div class="well">
                <div id="disqus_thread"></div>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">Comments
                    powered by Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">Comments powered by
                    <span class="logo-disqus">Disqus</span></a>
            </div>

        </div>

        <div class="sidebar col-md-4">
        
            <!-- Follow Panel -->
                <div class="panel panel-primary text-center">
                    <div class="panel-heading">
                        <strong>Follow Me</strong>
                    </div>
        
                    <div class="panel-body">
                        <a target="_blank" href="https://codeinphp.github.io/rss.xml" class="btn btn-social-icon btn-outline"><i class="fa fa-rss"></i></a>
        
                            <a target="_blank" href="https://twitter.com/sarfraznawaz" class="btn btn-social-icon btn-twitter"><i class="fa fa-twitter"></i></a>
                            <a target="_blank" href="https://www.linkedin.com/profile/view?id=48808377" class="btn btn-social-icon btn-linkedin"><i class="fa fa-linkedin"></i></a>
                            <a target="_blank" href="https://github.com/sarfraznawaz2005" class="btn btn-social-icon btn-github"><i class="fa fa-github"></i></a>
                    </div>
                </div>
        
            <!-- Custom Values from Settings page -->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <strong>On Stackoverflow</strong>
                    </div>
                    <a href="http://stackoverflow.com/users/139459/sarfraz"> <img src="http://stackoverflow.com/users/flair/139459.png?theme=clean" width="355" height="100" alt="Sarfraz at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="Sarfraz at Stack Overflow, Q&amp;A for professional and enthusiast programmers" class="img-responsive"> </a>
                </div>
        
            <!-- Latest Posts -->
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <strong>Latest Posts</strong>
                </div>
        
                <ul class="list-group">
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/database-migrations-in-codeigniter">Database Migrations in CodeIgniter</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/development-environments-in-codeigniter">Development Environments in CodeIgniter</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/controllers-for-frontend-and-backend-in-codeigniter">Controllers for Frontend and Backend in CodeIgniter</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/codeigniter-tip-time-your-pages">CodeIgniter Tip: Time Your Pages</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/dependency-injection-in-php">Dependency Injection in PHP</a></li>
                </ul>
            </div>
        
            <!-- Categories -->
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <strong>Categories</strong>
                </div>
        
                <ul class="list-group">
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/blog">Blog</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/bloggercms">BloggerCMS</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/javascript">Javascript</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/php">PHP</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/sql">SQL</a></li>
                </ul>
            </div>
        
            <!-- Archives -->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <strong>Archives</strong>
                    </div>
        
                    <ul class="archives list-group"><li class="list-group-item archive_link"><a href="https://codeinphp.github.io/archive/april-2015">April 2015</a></li></ul>
                </div>
        
            <!-- Tags -->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <strong>Tags Cloud</strong>
                    </div>
        
                    <div class="panel-body">
                        <ul class="list-inline">
                            <a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/abstract" title="'abstract' returned a count of 0">abstract</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/app" title="'app' returned a count of 0">app</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/blog" title="'blog' returned a count of 0">blog</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/bloggercms" title="'bloggercms' returned a count of 0">bloggercms</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/browser" title="'browser' returned a count of 0">browser</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/closure" title="'closure' returned a count of 0">closure</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/cms" title="'cms' returned a count of 0">cms</a>
<a style="font-size: 18px" class="tag_cloud" href="https://codeinphp.github.io/tag/codeigniter" title="'codeigniter' returned a count of 4">codeigniter</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/console" title="'console' returned a count of 0">console</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/controller" title="'controller' returned a count of 0">controller</a>
<a style="font-size: 13px" class="tag_cloud" href="https://codeinphp.github.io/tag/database" title="'database' returned a count of 1">database</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/datamapper" title="'datamapper' returned a count of 0">datamapper</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/dependency" title="'dependency' returned a count of 0">dependency</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/development" title="'development' returned a count of 0">development</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/devtools" title="'devtools' returned a count of 0">devtools</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/drive" title="'drive' returned a count of 0">drive</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/function" title="'function' returned a count of 0">function</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/git" title="'git' returned a count of 0">git</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/googledrive" title="'googledrive' returned a count of 0">googledrive</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/injection" title="'injection' returned a count of 0">injection</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/interface" title="'interface' returned a count of 0">interface</a>
<a style="font-size: 13px" class="tag_cloud" href="https://codeinphp.github.io/tag/javascript" title="'javascript' returned a count of 1">javascript</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/lambda" title="'lambda' returned a count of 0">lambda</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/migration" title="'migration' returned a count of 0">migration</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/mysql" title="'mysql' returned a count of 0">mysql</a>
<a style="font-size: 13px" class="tag_cloud" href="https://codeinphp.github.io/tag/oop" title="'oop' returned a count of 1">oop</a>
<a style="font-size: 30px" class="tag_cloud" href="https://codeinphp.github.io/tag/php" title="'php' returned a count of 12">php</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/phpexecute" title="'phpexecute' returned a count of 0">phpexecute</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/runner" title="'runner' returned a count of 0">runner</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/sql" title="'sql' returned a count of 0">sql</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/sqlite" title="'sqlite' returned a count of 0">sqlite</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/static" title="'static' returned a count of 0">static</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/tester" title="'tester' returned a count of 0">tester</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/todo" title="'todo' returned a count of 0">todo</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/visual" title="'visual' returned a count of 0">visual</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/wamp" title="'wamp' returned a count of 0">wamp</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/welcome" title="'welcome' returned a count of 0">welcome</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/workflow" title="'workflow' returned a count of 0">workflow</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/xampp" title="'xampp' returned a count of 0">xampp</a>

                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>

<!-- Footer -->
<footer>
    <div class="container">
        <hr/>
        <p class="text-center">Published by <strong><a target="_blank" href="https://github.com/sarfraznawaz2005/BloggerCMS">BloggerCMS</a></strong></p>
    </div>
</footer>

<!-- Jquery and Bootstrap Script files -->
<script src="https://codeinphp.github.io/js/jquery-2.0.3.min.js"></script>
<script src="https://codeinphp.github.io/js/plugins/bootstrap-3.0.3/js/bootstrap.min.js"></script>
<script src="https://codeinphp.github.io/js/plugins/highlight/highlight.pack.js"></script>
<script src="https://codeinphp.github.io/js/plugins/lightbox/ekko-lightbox.min.js"></script>

<script>
    var __blogURL = 'https://codeinphp.github.io';
</script>

<script src="https://codeinphp.github.io/js/blog.js"></script>
<script src="https://codeinphp.github.io/js/search.js"></script>

<!-- google analytics -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-61657332-1', 'auto');
    ga('send', 'pageview');
</script>

<script type="text/javascript">
  var vglnk = { key: '9a3af572766f7d4f86db972c3a1baa52' };

  (function(d, t) {
    var s = d.createElement(t); s.type = 'text/javascript'; s.async = true;
    s.src = '//cdn.viglink.com/api/vglnk.js';
    var r = d.getElementsByTagName(t)[0]; r.parentNode.insertBefore(s, r);
  }(document, 'script'));
</script>

</body>
</html>
<!-- for pagination -->
<script>
    $(function () {

        ///////////////////////////////////////////////////
        // class/id/selector of prev link
        var $prevPostSelector = $('.prevpost');
        var $nextPostSelector = $('.nextpost');
        ///////////////////////////////////////////////////

        var pageArray = document.location.href.split('/');
        var currentPageSlug = pageArray[pageArray.length - 1];

        if (!currentPageSlug) {
            currentPageSlug = pageArray[pageArray.length - 2];
        }

        $.ajax({
            url: __blogURL + "/data/blog.json",
            type: "GET",
            dataType: "json",
            success: function (data) {
                if (data.posts !== undefined && data.posts !== null) {
                    $.each(data.posts, function (i, post) {
                        if (post.slug === currentPageSlug || post.slug + '/' === currentPageSlug) {

                            var prevPost = data.posts[i - 1];
                            var nextPost = data.posts[i + 1];

                            if (prevPost === undefined || prevPost === null) {
                                // hide previous link if it is first post
                                $prevPostSelector.hide();
                            }
                            else {
                                $prevPostSelector.attr('href', __blogURL + '/post/' + prevPost.slug);
                            }

                            if (nextPost === undefined || nextPost === null) {
                                // hide previous link if it is last post
                                $nextPostSelector.hide();
                            }
                            else {
                                $nextPostSelector.attr('href', __blogURL + '/post/' + nextPost.slug);
                            }

                            return false; // break out of each
                        }
                    });
                }
            },
            error: function (e) {
                $prevPostSelector.hide();
                $nextPostSelector.hide();
            }
        });

        // for Disqus
        var disqus_shortname = 'codeinphp';
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

    });
</script>

<!-- for sharethis -->
<script type="text/javascript">var switchTo5x = true;</script>
<script type="text/javascript" src="https://ws.sharethis.com/button/buttons.js"></script>
<script type="text/javascript">stLight.options({
    publisher: "18a13a28-cab8-4bb2-9a13-25708fa3cd9b",
    doNotHash: false,
    doNotCopy: false,
    hashAddressBar: false
});
</script>