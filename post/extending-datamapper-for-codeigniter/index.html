<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="BloggerCMS" />
    <meta name="description" content="PHP and more...">
    <meta name="author" content="Sarfraz Ahmed">

    <title>Extending DataMapper for CodeIgniter :: Code In PHP</title>

    <!-- rss feed url -->
    <link rel="alternate" type="application/rss+xml" title="Code In PHP" href="https://codeinphp.github.io/rss.xml"/>

    <!-- favicon -->
    <link rel="shortcut icon" href="/favicon.ico"/>
    <link rel="shortcut icon" href="https://codeinphp.github.io/favicon.ico"/>

    <!-- Bootstrap CSS file -->
    <link href="https://codeinphp.github.io/js/plugins/bootstrap-3.0.3/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://codeinphp.github.io/js/plugins/font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://codeinphp.github.io/js/plugins/bootstrap-3.0.3/plugins/social-buttons.css" rel="stylesheet"/>

    <!-- syntax highlighter css file -->
    <link href="https://codeinphp.github.io/js/plugins/highlight/styles/php.css" rel="stylesheet"/>

    <!-- lightbox for images -->
    <link href="https://codeinphp.github.io/js/plugins/lightbox/ekko-lightbox.min.css" rel="stylesheet"/>

    <!-- blog custom CSS file -->
    <link href="https://codeinphp.github.io/css/style.css" rel="stylesheet"/>
</head><body>
<!-- Header -->
<header class="navbar navbar-default
 navbar-fixed-top bs-docs-nav" role="banner">
    <div class="container">

        <div class="navbar-header">
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a href="https://codeinphp.github.io" class="navbar-brand"><i class="fa fa-code"></i> Code In PHP</a>
        </div>

        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
            <div class="navbar-form navbar-right" role="search">
                <div class="form-group">
                    <input type="text" class="searchQuery form-control" placeholder="Search Posts">
                </div>

                <button type="button" class="searchButton btn btn-default"><i class="glyphicon glyphicon-search"></i>
                    Submit
                </button>
            </div>

            <ul class="nav navbar-nav page-links">
                    <li><a href="https://codeinphp.github.io/page/about">About</a></li>
                    <li><a href="https://codeinphp.github.io/page/projects">Projects</a></li>
                    <li><a href="https://codeinphp.github.io/page/contact">Contact</a></li>
            </ul>

        </nav>
    </div>
</header>
<div class="container">
    <div class="row">
        <div class="col-md-8 main-content">
            <article>
                <h3>Extending DataMapper for CodeIgniter</h3>
                <span class="glyphicon glyphicon-user"></span> Sarfraz Ahmed
                &nbsp;&nbsp;
                <span class="glyphicon glyphicon-time"></span> April 19, 2015 11:35 AM
                <hr>

                <p class="post-content"><p>For one of my projects I was using CodeIgniter framework with goodies like <a href="http://datamapper.wanwizard.eu/">DataMapper</a> (by wanwizard.eu), <a href="https://bitbucket.org/wiredesignz/codeigniter-modular-extensions-hmvc">HMVC Module</a>, <a href="http://github.com/EllisLab/CodeIgniter/wiki/View-Object-PHP5">View Objects</a> and more. Everything was smooth and sound until client requested that some of database tables must be encrypted. I was already encrypting sensitive information like passwords, etc but client wanted encryption for more tables such that:</p>
<ul>
<li>One-way hashing, once data is encrypted, it can't be decrypted,  we chose <a href="http://en.wikipedia.org/wiki/Advanced_Encryption_Standard">AES</a> (Advanced Encryption Standard)</li>
<li>For same piece of text, hashing should be able to generate different encrypted text always so no two same text should sound like similar</li>
<li>Code should know whether provided piece of text is already encrypted or not</li>
</ul>
<p>I created the encryption class and did some trickery so that it always gave <em>different encryption text</em> for the <em>same string</em>. And also used some kind of prefix information that would later let the code know whether or not something is already encrypted.</p>
<p>The real problem for me was that by the time project had turned into huge codebase, it would have taken ages to go and modify code everywhere so that new requirement of encryption is applied everywhere. I was using <a href="http://datamapper.wanwizard.eu/">DataMapper</a> library everywhere to interact with database and model classes looked like this:</p>
<pre><code>class Api_client extends DataMapper
{
    # object properties
    public $id;
    public $appid;
    public $apikey;
    public $request_uri;

    # relations
    public $has_one = array('client');

    # validation
    public $validation = array(
        'appid' =&gt; array(
            'label' =&gt; 'App ID',
            'rules' =&gt; array('required', 'trim')
        ),
        'apikey' =&gt; array(
            'label' =&gt; 'API Key',
            'rules' =&gt; array('required', 'trim')
        ),
        'request_uri' =&gt; array(
            'label' =&gt; 'Request URI',
            'rules' =&gt; array('required', 'trim')
        )
    );

    # Default to ordering by id
    public $default_order_by = array('id' =&gt; 'desc');

    # Optional - useful if a record is to be retrieved by ID eg $user = new User(1);
    public function __construct($id = null)
    {
        parent::__construct($id);
    }

    # Optional - post model initialisation code
    public function post_model_init($from_cache = false)
    {
    }
}</code></pre>
<p>We can see that each model class extends the data mapper:</p>
<pre><code>class Api_client extends DataMapper</code></pre>
<p>This is what was a clue to me. So in order to avoid modifying lots of code in whole codebase, I knew I can only extend this data mapper and inject my functionality the way I needed.</p>
<p>I actually needed the ability to:</p>
<ul>
<li>automatically encrypt given fields in some table when saving them to database</li>
<li>automatically getting the right value when reading back from database</li>
</ul>
<p>By that I mean, instead of going everywhere in codebase and modifying code to encrypt certain fields like this:</p>
<pre><code>$apiClient = new Api_client();
$apiClient-&gt;appid = Encode($appId);     // encrypt this field value
$apiClient-&gt;apikey = Encode($apikey);  // encrypt this field value
$apiClient-&gt;request_uri = $request_uri;
$apiClient-&gt;save(); // save to db</code></pre>
<p>I simply wanted to leave current code as is without modifying it:</p>
<pre><code>$apiClient = new Api_client();
$apiClient-&gt;appid = $appId;
$apiClient-&gt;apikey = $apikey;
$apiClient-&gt;request_uri = $request_uri;
$apiClient-&gt;save(); // save to db</code></pre>
<p>In this case, I wanted data mapper to <strong>automatically</strong> encrypt the <code>appid</code> and <code>apikey</code> values for me. Now imagine I had this code placed in quite some files, it would have been time-consuming process to modify and add <code>Encode()</code> function calls manually everywhere.</p>
<p>In order to do that, I simply told data mapper which fields need to be encrypted:</p>
<pre><code>class Api_client extends DataMapper
{
    ////////////////////

    // for encryption fields
    private $encryptFields = array(
       'appid',
       'apikey',
    );    
}</code></pre>
<p>Now if you look at the code of data mapper, you would see it uses <code>_to_object()</code> function to map fields and <code>save()</code> function to save the info to database. So I tapped into these in my child classes and modified them a bit so that <code>$encryptFields</code> are auto-magically encrypted on my behalf. Since we are extending data mapper (<code>class Api_client extends DataMapper</code>), I modified it like this to do the encryption for me:</p>
<pre><code>class Api_client extends DataMapper
{
    # object properties
    public $id;
    public $appid;
    public $apikey;
    public $request_uri;

    # relations
    public $has_one = array('client');

    # validation
    public $validation = array(
    'appid' =&gt; array('label' =&gt; 'App ID', 'rules' =&gt; array('required', 'trim')), 
    'apikey' =&gt; array('label' =&gt; 'API Key', 'rules' =&gt; array('required', 'trim')), 
    'request_uri' =&gt; array('label' =&gt; 'Request URI', 'rules' =&gt; array('required', 'trim'))
    );

    // for encryption fields
    private $encryptFields = array('appid', 'apikey');

    # Default to ordering by id
    public $default_order_by = array('id' =&gt; 'desc');

    # Optional - useful if a record is to be retrieved by ID eg $user = new User(1);
    public function __construct($id = null)
    {
        parent::__construct($id);
    }

    # Optional - post model initialisation code
    public function post_model_init($from_cache = false)
    {
    }

    // extending date modal here //
    public function _to_object($item, $row)
    {
        // Populate this object with values from first record
        foreach ($row as $key =&gt; $value) {
            if ($this-&gt;isEncryptedField($key)) {
                $item-&gt;{$key} = decodeField($value);
            } else {
                $item-&gt;{$key} = $value;
            }
        }

        foreach ($this-&gt;fields as $field) {
            if (!isset($row-&gt;{$field})) {
                $item-&gt;{$field} = null;
            }
        }

        // Force IDs to integers
        foreach ($this-&gt;_field_tracking['intval'] as $field) {
            if (isset($item-&gt;{$field})) {
                $item-&gt;{$field} = intval($item-&gt;{$field});
            }
        }

        if (!empty($this-&gt;_field_tracking['get_rules'])) {
            $item-&gt;_run_get_rules();
        }

        $item-&gt;_refresh_stored_values();

        if ($this-&gt;_instantiations) {
            foreach ($this-&gt;_instantiations as $related_field =&gt; $field_map) {
                // convert fields to a 'row' object
                $row = new stdClass();
                foreach ($field_map as $item_field =&gt; $c_field) {
                    $row-&gt;{$c_field} = $item-&gt;{$item_field};
                }

                // get the related item
                $c =&amp; $item-&gt;_get_without_auto_populating($related_field);
                // set the values
                $c-&gt;_to_object($c, $row);

                // also set up the -&gt;all array
                $c-&gt;all    = array();
                $c-&gt;all[0] = $c-&gt;get_clone();
            }
        }
    }

    public function save($object = '', $related_field = '')
    {
        // Temporarily store the success/failure
        $result = array();

        // Validate this objects properties
        $this-&gt;validate($object, $related_field);

        // If validation passed
        if ($this-&gt;valid) {

            // Begin auto transaction
            $this-&gt;_auto_trans_begin();

            $trans_complete_label = array();

            // Get current timestamp
            $timestamp = $this-&gt;_get_generated_timestamp();

            // Check if object has a 'created' field, and it is not already set
            if (in_array($this-&gt;created_field, $this-&gt;fields) &amp;&amp; empty($this-&gt;{$this-&gt;created_field})) {
                $this-&gt;{$this-&gt;created_field} = $timestamp;
            }

            // SmartSave: if there are objects being saved, and they are stored
            // as in-table foreign keys, we can save them at this step.
            if (!empty($object)) {
                if (!is_array($object)) {
                    $object = array(
                        $object
                    );
                }

                $this-&gt;_save_itfk($object, $related_field);
            }

            // Convert this object to array
            $data = $this-&gt;_to_array();
            $data = $this-&gt;changeWithEncrypted($data);
            //pretty_print($data);

            if (!empty($data)) {
                if (!$this-&gt;_force_save_as_new &amp;&amp; !empty($data['id'])) {
                    // Prepare data to send only changed fields
                    foreach ($data as $field =&gt; $value) {
                        // Unset field from data if it hasn't been changed
                        if ($this-&gt;{$field} === $this-&gt;stored-&gt;{$field}) {
                            unset($data[$field]);
                        }
                    }

                    // if there are changes, check if we need to update the update timestamp
                    if (count($data) &amp;&amp; in_array($this-&gt;updated_field, $this-&gt;fields) &amp;&amp; !isset($data[$this-&gt;updated_field])) {
                        // update it now
                        $data[$this-&gt;updated_field] = $this-&gt;{$this-&gt;updated_field} = $timestamp;
                    }

                    // Only go ahead with save if there is still data
                    if (!empty($data)) {
                        // Update existing record
                        $this-&gt;db-&gt;where('id', $this-&gt;id);
                        $this-&gt;db-&gt;update($this-&gt;table, $data);

                        $trans_complete_label[] = 'update';
                    }

                    // Reset validated
                    $this-&gt;_validated = false;

                    $result[] = true;
                } else {
                    // Prepare data to send only populated fields
                    foreach ($data as $field =&gt; $value) {
                        // Unset field from data
                        if (!isset($value)) {
                            unset($data[$field]);
                        }
                    }

                    // Create new record
                    $this-&gt;db-&gt;insert($this-&gt;table, $data);

                    if (!$this-&gt;_force_save_as_new) {
                        // Assign new ID
                        $this-&gt;id = $this-&gt;db-&gt;insert_id();
                    }

                    $trans_complete_label[] = 'insert';

                    // Reset validated
                    $this-&gt;_validated = false;

                    $result[] = true;
                }
            }

            $this-&gt;_refresh_stored_values();

            // Check if a relationship is being saved
            if (!empty($object)) {
                // save recursively
                $this-&gt;_save_related_recursive($object, $related_field);

                $trans_complete_label[] = 'relationships';
            }

            if (!empty($trans_complete_label)) {
                $trans_complete_label = 'save (' . implode(', ', $trans_complete_label) . ')';
            } else {
                $trans_complete_label = '-nothing done-';
            }

            $this-&gt;_auto_trans_complete($trans_complete_label);

        }

        $this-&gt;_force_save_as_new = false;

        // If no failure was recorded, return TRUE
        return (!empty($result) &amp;&amp; !in_array(false, $result));
    }

    private function isEncryptedField($key)
    {
        if (false !== in_array($key, $this-&gt;encryptFields)) {
            return true;
        }

        return false;
    }

    private function changeWithEncrypted(array $array)
    {
        foreach ($array as $key =&gt; $value) {
            if ($this-&gt;isEncryptedField($key)) {
                if ($value !== '') {
                    $array[$key] = encodeField($value);
                } else {
                    $array[$key] = $value;
                }
            }
        }

        return $array;
    }

    private function _get_generated_timestamp()
    {
        // Get current timestamp
        $timestamp = ($this-&gt;local_time) ? date($this-&gt;timestamp_format) : gmdate($this-&gt;timestamp_format);

        // Check if unix timestamp
        return ($this-&gt;unix_timestamp) ? strtotime($timestamp) : $timestamp;
    }

}</code></pre>
<p>In above class, most of the code remains same for <code>_to_object()</code> and <code>save()</code> functions as in original data mapper class but I have modified few places so that I can put encryption for needed fields.</p>
<p>So in conclusion, we learned how we tapped onto the data mapper class and extended it for our needs of auto-encryption of told fields. If you happen to have similar requirement or you wanted to inject your own functionality to the data mapper, you can do that through the use of <code>_to_object()</code>  and <code>save()</code> functions of data mapper.</p></p>
                <br/><br/>

                <div class="post-info">
                        <span class="glyphicon glyphicon-folder-open"></span> &nbsp;
                        <a href="https://codeinphp.github.io/category/php">PHP</a>
                        &nbsp;&nbsp;

                    <span class="glyphicon glyphicon-bookmark"></span>

                        <a href="https://codeinphp.github.io/tag/codeigniter">codeigniter</a>&nbsp;&nbsp;
                        <a href="https://codeinphp.github.io/tag/datamapper">datamapper</a>&nbsp;&nbsp;
                        <a href="https://codeinphp.github.io/tag/php">php</a>&nbsp;&nbsp;
                </div>

            </article>
            <hr/>

            <div class="text-center clearfix">
                <div class="col-sm-4 col-md-4">
                    <a class="prevpost btn btn-primary"><i class="fa fa-chevron-circle-left"></i> Prev Post</a>
                </div>
                <div class="col-sm-4 col-md-4">
                    <a class="btn btn-primary" href="https://codeinphp.github.io/posts.html"><i class="fa fa-navicon"></i> View All
                        Post</a>
                </div>
                <div class="col-sm-4 col-md-4">
                    <a class="nextpost btn btn-primary"><i class="fa fa-chevron-circle-right"></i> Next Post</a>
                </div>
            </div>

            <hr/>
            <span class='st_facebook_large' displayText='Facebook'></span>
            <span class='st_twitter_large' displayText='Tweet'></span>
            <span class='st_reddit_large' displayText='Reddit'></span>
            <span class='st_pocket_large' displayText='Pocket'></span>
            <span class='st_flipboard_large' displayText='Flipboard'></span>
            <span class='st_googleplus_large' displayText='Google +'></span>
            <span class='st_linkedin_large' displayText='LinkedIn'></span>
            <span class='st_email_large' displayText='Email'></span>
            <br/><br/>

            <!-- Comment form -->
            <div class="well">
                <div id="disqus_thread"></div>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">Comments
                    powered by Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">Comments powered by
                    <span class="logo-disqus">Disqus</span></a>
            </div>

        </div>

        <div class="sidebar col-md-4">
        
            <!-- Follow Panel -->
                <div class="panel panel-primary text-center">
                    <div class="panel-heading">
                        <strong>Follow Me</strong>
                    </div>
        
                    <div class="panel-body">
                        <a target="_blank" href="http://feeds.feedburner.com/codeinphpfeed" class="btn btn-social-icon btn-outline"><i class="fa fa-rss"></i></a>
        
                            <a target="_blank" href="https://twitter.com/sarfraznawaz" class="btn btn-social-icon btn-twitter"><i class="fa fa-twitter"></i></a>
                            <a target="_blank" href="https://www.linkedin.com/profile/view?id=48808377" class="btn btn-social-icon btn-linkedin"><i class="fa fa-linkedin"></i></a>
                            <a target="_blank" href="https://github.com/sarfraznawaz2005" class="btn btn-social-icon btn-github"><i class="fa fa-github"></i></a>
                    </div>
                </div>
        
            <!-- Custom Values from Settings page -->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <strong>On Stackoverflow</strong>
                    </div>
                    <a href="http://stackoverflow.com/users/139459/sarfraz"> <img src="http://stackoverflow.com/users/flair/139459.png?theme=clean" width="355" height="100" alt="Sarfraz at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="Sarfraz at Stack Overflow, Q&amp;A for professional and enthusiast programmers" class="img-responsive"> </a>
                </div>
        
            <!-- Latest Posts -->
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <strong>Latest Posts</strong>
                </div>
        
                <ul class="list-group">
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/replace-nested-conditions-with-guard-clauses">Replace Nested Conditions with Guard Clauses</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/managing-times-for-users-in-php">Managing Times for Users in PHP</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/semantic-versioning-and-composer">Semantic Versioning and Composer</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/throwing-your-own-library-exceptions-in-php">Throwing Your Own Library Exceptions in PHP</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/post/exceptions-are-bad-yet-awesome">Exceptions Are Bad Yet Awesome!</a></li>
                </ul>
            </div>
        
            <!-- Categories -->
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <strong>Categories</strong>
                </div>
        
                <ul class="list-group">
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/blog">Blog</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/bloggercms">BloggerCMS</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/javascript">Javascript</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/php">PHP</a></li>
                        <li class="list-group-item"><a href="https://codeinphp.github.io/category/sql">SQL</a></li>
                </ul>
            </div>
        
            <!-- Archives -->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <strong>Archives</strong>
                    </div>
        
                    <ul class="archives list-group"><li class="list-group-item archive_link"><a href="https://codeinphp.github.io/archive/may-2015">May 2015</a></li><li class="list-group-item archive_link"><a href="https://codeinphp.github.io/archive/april-2015">April 2015</a></li></ul>
                </div>
        
            <!-- Tags -->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <strong>Tags Cloud</strong>
                    </div>
        
                    <div class="panel-body">
                        <ul class="list-inline">
                            <a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/abstract" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">abstract</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/app" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">app</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/blog" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">blog</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/bloggercms" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">bloggercms</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/browser" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">browser</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/closure" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">closure</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/cms" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">cms</a>
<a style="font-size: 16px" class="tag_cloud" href="https://codeinphp.github.io/tag/codeigniter" title="6 total posts" data-original-title="7 total posts" data-toggle="tooltip">codeigniter</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/composer" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">composer</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/console" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">console</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/controller" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">controller</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/custom" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">custom</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/database" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">database</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/datamapper" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">datamapper</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/date" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">date</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/dependency" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">dependency</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/development" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">development</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/devtools" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">devtools</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/drive" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">drive</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/error" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">error</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/exception" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">exception</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/function" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">function</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/git" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">git</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/googledrive" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">googledrive</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/injection" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">injection</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/interface" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">interface</a>
<a style="font-size: 13px" class="tag_cloud" href="https://codeinphp.github.io/tag/javascript" title="3 total posts" data-original-title="4 total posts" data-toggle="tooltip">javascript</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/lambda" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">lambda</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/migration" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">migration</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/mysql" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">mysql</a>
<a style="font-size: 13px" class="tag_cloud" href="https://codeinphp.github.io/tag/oop" title="3 total posts" data-original-title="4 total posts" data-toggle="tooltip">oop</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/pdo" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">pdo</a>
<a style="font-size: 30px" class="tag_cloud" href="https://codeinphp.github.io/tag/php" title="21 total posts" data-original-title="22 total posts" data-toggle="tooltip">php</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/phpexecute" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">phpexecute</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/refactoring" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">refactoring</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/runner" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">runner</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/scope" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">scope</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/semver" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">semver</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/spl" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">spl</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/sql" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">sql</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/sqlite" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">sqlite</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/static" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">static</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/tester" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">tester</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/time" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">time</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/timezone" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">timezone</a>
<a style="font-size: 13px" class="tag_cloud" href="https://codeinphp.github.io/tag/tip" title="3 total posts" data-original-title="4 total posts" data-toggle="tooltip">tip</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/todo" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">todo</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/trait" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">trait</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/versioning" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">versioning</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/visual" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">visual</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/wamp" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">wamp</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/workflow" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">workflow</a>
<a style="font-size: 12px" class="tag_cloud" href="https://codeinphp.github.io/tag/xampp" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">xampp</a>

                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>

<!-- Footer -->
<footer>
    <div class="container">
        <hr/>
        <p class="text-center">Published by <strong><a target="_blank" href="https://github.com/sarfraznawaz2005/BloggerCMS">BloggerCMS</a></strong></p>
    </div>
</footer>

<!-- Jquery and Bootstrap Script files -->
<script src="https://codeinphp.github.io/js/jquery-2.0.3.min.js"></script>
<script src="https://codeinphp.github.io/js/plugins/bootstrap-3.0.3/js/bootstrap.min.js"></script>
<script src="https://codeinphp.github.io/js/plugins/highlight/highlight.pack.js"></script>
<script src="https://codeinphp.github.io/js/plugins/lightbox/ekko-lightbox.min.js"></script>

<script>
    var __blogURL = 'https://codeinphp.github.io';
</script>

<script src="https://codeinphp.github.io/js/blog.js"></script>
<script src="https://codeinphp.github.io/js/search.js"></script>

<!-- google analytics -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-61657332-1', 'auto');
    ga('send', 'pageview');
</script>


</body>
</html>
<!-- for pagination -->
<script>
    $(function () {

        ///////////////////////////////////////////////////
        // class/id/selector of prev link
        var $prevPostSelector = $('.prevpost');
        var $nextPostSelector = $('.nextpost');
        ///////////////////////////////////////////////////

        var pageArray = document.location.href.split('/');
        var currentPageSlug = pageArray[pageArray.length - 1];

        if (!currentPageSlug) {
            currentPageSlug = pageArray[pageArray.length - 2];
        }

        $.ajax({
            url: __blogURL + "/data/blog.json",
            type: "GET",
            dataType: "json",
            success: function (data) {
                if (data.posts !== undefined && data.posts !== null) {
                    $.each(data.posts, function (i, post) {
                        if (post.slug === currentPageSlug || post.slug + '/' === currentPageSlug) {

                            var prevPost = data.posts[i - 1];
                            var nextPost = data.posts[i + 1];

                            if (prevPost === undefined || prevPost === null) {
                                // hide previous link if it is first post
                                $prevPostSelector.hide();
                            }
                            else {
                                $prevPostSelector.attr('href', __blogURL + '/post/' + prevPost.slug);
                            }

                            if (nextPost === undefined || nextPost === null) {
                                // hide previous link if it is last post
                                $nextPostSelector.hide();
                            }
                            else {
                                $nextPostSelector.attr('href', __blogURL + '/post/' + nextPost.slug);
                            }

                            return false; // break out of each
                        }
                    });
                }
            },
            error: function (e) {
                $prevPostSelector.hide();
                $nextPostSelector.hide();
            }
        });

        // for Disqus
        var disqus_shortname = 'codeinphp';
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

    });
</script>

<!-- for sharethis -->
<script type="text/javascript">var switchTo5x = true;</script>
<script type="text/javascript" src="https://ws.sharethis.com/button/buttons.js"></script>
<script type="text/javascript">stLight.options({
    publisher: "18a13a28-cab8-4bb2-9a13-25708fa3cd9b",
    doNotHash: true,
    doNotCopy: true,
    hashAddressBar: false
});
</script>